<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第五章 整数规划 - 运筹学教程交互式教程</title>
    
    <!-- MathJax配置 -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                displayMath: [['$$','$$'], ['\\[','\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            "HTML-CSS": {
                availableFonts: ["TeX"],
                linebreaks: { automatic: true }
            }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans SC', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #a6d6c9 0%, #ffffff 50%, #f7d117 100%);
            color: #343434;
            line-height: 1.8;
            min-height: 100vh;
        }
        
        /* 导航栏 */
        nav {
            background: linear-gradient(90deg, #f27d00, #f7d117);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
        }
        
        nav a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        nav a:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        /* 主容器 */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            background: #ffffff;
            padding: 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        /* 标题样式 */
        h1 {
            color: #f27d00;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid #f7d117;
        }
        
        h2 {
            color: #f27d00;
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            padding: 1rem;
            background: linear-gradient(90deg, #a6d6c9, transparent);
            border-left: 5px solid #f27d00;
        }
        
        h3 {
            color: #343434;
            font-size: 1.4rem;
            margin: 1.5rem 0 1rem;
            padding-left: 1rem;
            border-left: 3px solid #f7d117;
        }
        
        /* 段落和文本 */
        p {
            margin: 1rem 0;
            text-align: justify;
        }
        
        /* 折叠内容 */
        .collapsible {
            background: linear-gradient(90deg, #f27d00, #f7d117);
            color: white;
            cursor: pointer;
            padding: 1rem;
            width: 100%;
            border: none;
            text-align: left;
            font-size: 1.2rem;
            font-weight: 500;
            border-radius: 5px;
            margin: 1rem 0;
            transition: all 0.3s;
        }
        
        .collapsible:hover {
            opacity: 0.9;
            transform: translateX(5px);
        }
        
        .collapsible:after {
            content: '\25BC';
            float: right;
            transition: transform 0.3s;
        }
        
        .collapsible.active:after {
            transform: rotate(-180deg);
        }
        
        .content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: #f8f9fa;
            padding: 0 1rem;
            border-radius: 0 0 5px 5px;
        }
        
        .content.show {
            padding: 1.5rem;
            border: 2px solid #a6d6c9;
        }
        
        /* 表格样式 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        th {
            background: linear-gradient(90deg, #f27d00, #f7d117);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 500;
        }
        
        td {
            padding: 0.8rem;
            text-align: center;
            border: 1px solid #a6d6c9;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        tr:hover {
            background: rgba(166, 214, 201, 0.2);
        }
        
        /* 数学公式样式 */
        .mjx-chtml {
            font-size: 1.1em !important;
        }
        
        /* 强调框 */
        .highlight {
            background: #f7d117;
            padding: 1.5rem;
            border-left: 5px solid #f27d00;
            margin: 1.5rem 0;
            border-radius: 5px;
        }
        
        .note {
            background: #a6d6c9;
            padding: 1.5rem;
            border-radius: 5px;
            margin: 1.5rem 0;
        }
        
        /* 例题样式 */
        .example {
            background: white;
            border: 2px solid #f27d00;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .example-title {
            color: #f27d00;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        /* 按钮样式 */
        .btn {
            background: linear-gradient(90deg, #f27d00, #f7d117);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0.5rem;
            transition: all 0.3s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        /* 公式编号 */
        .equation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1rem 0;
            padding: 0.5rem 0;
        }
        
        .eq-number {
            color: #f27d00;
            font-weight: bold;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
        
        /* 返回顶部按钮 */
        #backToTop {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #f27d00;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: all 0.3s;
            z-index: 999;
        }
        
        #backToTop:hover {
            background: #f7d117;
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav>
        <ul>
            <li><a href="#section1">第一节</a></li>
            <li><a href="#section2">第二节</a></li>
            <li><a href="#section3">第三节</a></li>
            <li><a href="#section4">第四节</a></li>
            <li><a href="#section5">第五节</a></li>
            <li><a href="#exercises">习题</a></li>
        </ul>
    </nav>
    
    <!-- 主容器 -->
    <div class="container">
        <h1>第五章 整数规划</h1>
        
        <!-- 第一节 -->
        <section id="section1">
            <h2>第一节 整数规划的数学模型及解的特点</h2>
            
            <h3>一、整数规划数学模型的一般形式</h3>
            <p>要求一部分或全部决策变量必须取整数值的规划问题称为<strong>整数规划</strong>（Integer Programming, IP）。不考虑整数条件，由余下的目标函数和约束条件构成的规划问题称为该整数规划问题的<strong>松弛问题</strong>（slack problem）。若松弛问题是一个线性规划，则称该整数规划为<strong>整数线性规划</strong>（Integer linear programming）。</p>
            
            <div class="highlight">
                <p><strong>整数线性规划数学模型的一般形式：</strong></p>
                <div class="equation">
                    <div>$$\max(\text{或 }\min) z = \sum_{j=1}^{n} c_j x_j$$</div>
                    <span class="eq-number">(5.1a)</span>
                </div>
                <div class="equation">
                    <div>$$\text{s.t. } \begin{cases} \sum_{j=1}^{n} a_{ij}x_j \leq (\text{或 }=\text{，或 }\geq)b_i & (i=1,2,\cdots,m) \\ x_j \geq 0 & (j=1,2,\cdots,n) \\ x_1,x_2,\cdots,x_n \text{ 中部分或全部取整数} \end{cases}$$</div>
                    <span class="eq-number">(5.1b-d)</span>
                </div>
            </div>
            
            <button class="collapsible">整数线性规划的类型</button>
            <div class="content">
                <h4>整数线性规划问题可以分为下列几种类型：</h4>
                <ol style="padding-left: 2rem; margin: 1rem 0;">
                    <li><strong>纯整数线性规划</strong>（Pure Integer linear Programming）：指全部决策变量都必须取整数值的整数线性规划。有时，也称为全整数规划。</li>
                    <li><strong>混合整数线性规划</strong>（Mixed Integer linear Programming）：指决策变量中有一部分必须取整数值，另一部分可以不取整数值的整数线性规划。</li>
                    <li><strong>0-1型整数线性规划</strong>（Zero-one Integer linear programming）：指决策变量只能取值0或1的整数线性规划。</li>
                </ol>
            </div>
            
            <h3>二、整数规划的例子</h3>
            
            <div class="example">
                <div class="example-title">例1 海河市公交公司人员各时间段班次安排问题</div>
                <p>本书第一章例11给出了一个海河市公交公司人员各时间段班次安排问题。表5-1给出了该公司上班时间段及所需人员数，问题中提出该公司需配备多少人员，才能满足公司的正常运转。</p>
                
                <table>
                    <caption><strong>表 5-1</strong></caption>
                    <thead>
                        <tr>
                            <th>时间段</th>
                            <th>所需人数</th>
                            <th>时间段</th>
                            <th>所需人数</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>5:00—7:00</td>
                            <td>26</td>
                            <td>15:00—17:00</td>
                            <td>50</td>
                        </tr>
                        <tr>
                            <td>7:00—9:00</td>
                            <td>50</td>
                            <td>17:00—19:00</td>
                            <td>46</td>
                        </tr>
                        <tr>
                            <td>9:00—11:00</td>
                            <td>34</td>
                            <td>19:00—21:00</td>
                            <td>36</td>
                        </tr>
                        <tr>
                            <td>11:00—13:00</td>
                            <td>40</td>
                            <td>21:00—23:00</td>
                            <td>26</td>
                        </tr>
                        <tr>
                            <td>13:00—15:00</td>
                            <td>38</td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                
                <p>设$x_1, x_2, \cdots, x_7$分别为从5:00至17:00各时段开始时上班人数，该题列出了如下线性规划模型：</p>
                
                <p>$$\min z = x_1 + x_2 + \cdots + x_7$$</p>
                <p>$$\text{s.t. } \begin{cases} x_7 + x_1 \geq 26 \\ x_1 + x_2 \geq 50 \\ x_2 + x_3 \geq 34 \\ x_3 + x_4 \geq 40 \\ x_4 + x_5 \geq 38 \\ x_5 + x_6 \geq 50 \\ x_6 + x_7 \geq 46 \\ x_7 \geq 36 \\ x_i \geq 26 \\ x_j \geq 0 \quad (j=1,\cdots,7) \end{cases}$$</p>
                
                <div class="note">
                    <strong>注意：</strong>实际上要求$x_j$ $(j=1,\cdots,7)$必须取整数值，所以这是一个整数规划问题。
                </div>
            </div>
            
            <div class="example">
                <div class="example-title">例2 投资项目选择问题</div>
                <p>现有资金总额为$B$，可供选择的投资项目有$n$个，项目$j$所需投资额和预期收益分别为$a_j$和$c_j$ $(j=1,2,\cdots,n)$。此外，由于种种原因，有三个附加条件：</p>
                <ul style="padding-left: 2rem; margin: 1rem 0;">
                    <li>第一，若选择项目1，就必须同时选择项目2。反之，则不一定；</li>
                    <li>第二，项目3和项目4中至少选择一个；</li>
                    <li>第三，项目5、项目6和项目7中恰好选择两个。</li>
                </ul>
                <p>应当怎样选择投资项目，才能使总预期收益最大？</p>
                
                <p><strong>解：</strong>每一个投资项目都有被选择和不被选择两种可能，为此令</p>
                <p>$$x_j = \begin{cases} 1 & \text{对项目}j\text{投资} \\ 0 & \text{对项目}j\text{不投资} \end{cases}$$</p>
                
                <p>这样，问题可表示为：</p>
                <p>$$\max z = \sum_{j=1}^{n} c_j x_j$$</p>
                <p>$$\text{s.t. } \begin{cases} \sum_{j=1}^{n} a_j x_j \leq B \\ x_2 \geq x_1 \\ x_3 + x_4 \geq 1 \\ x_5 + x_6 + x_7 = 2 \\ x_j = 0\text{ 或 }1 \quad (j=1,2,\cdots,n) \end{cases}$$</p>
                
                <div class="note">
                    这是一个<strong>0-1规划问题</strong>。其中，中间三个约束条件分别对应三个附加条件。
                </div>
            </div>
            
            <h3>三、解的特点</h3>
            
            <button class="collapsible">整数规划与松弛问题解的关系</button>
            <div class="content">
                <p>整数线性规划及其松弛问题，从解的特点上来说，二者之间既有密切的联系，又有本质的区别。</p>
                
                <div class="highlight">
                    <p><strong>重要性质：</strong></p>
                    <ul style="padding-left: 2rem; margin: 1rem 0;">
                        <li>松弛问题作为一个线性规划问题，其可行解的集合是一个凸集，任意两个可行解的凸组合仍为可行解。</li>
                        <li>整数规划问题的可行解集合是它的松弛问题可行解集合的一个子集。</li>
                        <li>任意两个可行解的凸组合不一定满足整数约束条件，因而不一定仍为可行解。</li>
                        <li>整数规划问题的可行解一定也是它的松弛问题的可行解（反之则不一定）。</li>
                        <li>前者最优解的目标函数值不会优于后者最优解的目标函数值。</li>
                    </ul>
                </div>
                
                <div class="note">
                    <strong>关键结论：</strong>在一般情况下，松弛问题的最优解不会刚好满足变量的整数约束条件，因而不是整数规划的可行解，自然就不是整数规划的最优解。此时，若对松弛问题的这个最优解中不符合整数要求的分量简单地取整，所得到的解不一定是整数规划问题的最优解，甚至也不一定是整数规划问题的可行解。
                </div>
            </div>
            
            <div class="example">
                <div class="example-title">例4 简单取整的问题</div>
                <p>考虑下面的整数规划问题：</p>
                <p>$$\max z = x_1 + 4x_2$$</p>
                <p>$$\text{s.t. } \begin{cases} -2x_1 + 3x_2 \leq 3 \\ x_1 + 2x_2 \leq 8 \\ x_1, x_2 \geq 0 \text{ 且取整数} \end{cases}$$</p>
                
                <p>四边形$OBPC$及其内部为松弛问题的可行域，其中那些整数格点为整数规划问题的可行解。根据目标函数等值线的优化方向，从直观可知，$P$点$(x_1=18/7, x_2=19/7)$是其松弛问题的最优解，其目标函数值$z=94/7$。</p>
                
                <p>在$P$点附近对$x_1$和$x_2$简单取整，可得四点：$A_1, A_2, A_3$和$A_4$。其中，$A_1$和$A_2$为非可行解；$A_3$和$A_4$虽为整数可行解，但不是最优解。本例整数规划的最优解为$A^*$点$(x_1=4, x_2=2)$，其目标函数值$z=12$。</p>
                
                <div class="note">
                    <strong>重要提示：</strong>由于整数规划及其松弛问题之间的上述特殊关系，像例4中先求松弛问题最优解，再用简单取整的方法虽然直观简单，却并不是求解整数规划的有效方法。
                </div>
            </div>
        </section>
        
        <!-- 第二节 -->
        <section id="section2">
            <h2>第二节 解纯整数规划的割平面法</h2>
            
            <p>考虑纯整数规划问题：</p>
            <div class="equation">
                <div>$$\max z = \sum_{j=1}^{n} c_j x_j$$</div>
                <span class="eq-number">(5.3a)</span>
            </div>
            <div class="equation">
                <div>$$\text{s.t. } \begin{cases} \sum_{j=1}^{n} a_{ij}x_j = b_i & (i=1,2,\cdots,m) \\ x_j \geq 0 & (j=1,2,\cdots,n) \\ x_j \text{ 取整数} & (j=1,2,\cdots,n) \end{cases}$$</div>
                <span class="eq-number">(5.3b-d)</span>
            </div>
            
            <button class="collapsible">割平面法的基本思想</button>
            <div class="content">
                <p>用割平面法（cutting plane approach）解整数规划时，若其松弛问题的最优解$X^*$不满足式(5.3d)，则从$X^*$的非整分量中选取一个，用以构造一个线性约束条件，将其加入原松弛问题中，形成一个新的线性规划，然后求解之。若新的最优解满足整数要求，则它就是整数规划的最优解；否则，重复上述步骤，直到获得整数最优解为止。</p>
                
                <div class="highlight">
                    <p><strong>割平面约束的两个基本性质：</strong></p>
                    <ol style="padding-left: 2rem; margin: 1rem 0;">
                        <li>已获得的不符合整数要求的线性规划最优解不满足该线性约束条件，从而不可能在以后的解中再出现；</li>
                        <li>凡整数可行解均满足该线性约束条件，因而整数最优解始终被保留在每次形成的线性规划可行域中。</li>
                    </ol>
                </div>
            </div>
            
            <div class="example">
                <div class="example-title">例5 用割平面法求解纯整数规划</div>
                <p>$$\max z = 3x_1 - x_2$$</p>
                <p>$$\text{s.t. } \begin{cases} 3x_1 - 2x_2 \leq 3 \\ 5x_1 + 4x_2 \geq 10 \\ 2x_1 + x_2 \leq 5 \\ x_1, x_2 \geq 0 \\ x_1, x_2 \text{ 为整数} \end{cases}$$</p>
                
                <p><strong>解：</strong>引入松弛变量$x_3, x_4, x_5$，将问题化为标准形式，用单纯形法解其松弛问题，得最优单纯形表，见表5-3。</p>
                
                <table>
                    <caption><strong>表 5-3 最优单纯形表</strong></caption>
                    <thead>
                        <tr>
                            <th>$c_j$</th>
                            <th>$X_B$</th>
                            <th>$b$</th>
                            <th>$x_1$</th>
                            <th>$x_2$</th>
                            <th>$x_3$</th>
                            <th>$x_4$</th>
                            <th>$x_5$</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>3</td>
                            <td>$x_1$</td>
                            <td>13/7</td>
                            <td>1</td>
                            <td>0</td>
                            <td>1/7</td>
                            <td>0</td>
                            <td>2/7</td>
                        </tr>
                        <tr>
                            <td>-1</td>
                            <td>$x_2$</td>
                            <td>9/7</td>
                            <td>0</td>
                            <td>1</td>
                            <td>-2/7</td>
                            <td>0</td>
                            <td>3/7</td>
                        </tr>
                        <tr>
                            <td>0</td>
                            <td>$x_4$</td>
                            <td>31/7</td>
                            <td>0</td>
                            <td>0</td>
                            <td>-3/7</td>
                            <td>1</td>
                            <td>22/7</td>
                        </tr>
                        <tr>
                            <td colspan="2">$c_j - z_j$</td>
                            <td></td>
                            <td>0</td>
                            <td>0</td>
                            <td>-5/7</td>
                            <td>0</td>
                            <td>-3/7</td>
                        </tr>
                    </tbody>
                </table>
                
                <p>由于$b$列各分数中$x_1=13/7$有最大小数部分6/7，故从表5-3中第一行产生割平面约束。按照式(5.10)，割平面约束为：</p>
                <p>$$-\frac{1}{7}x_3 - \frac{2}{7}x_5 \leq -\frac{6}{7}$$</p>
                
                <p>引入松弛变量$x_6$，得割平面方程：</p>
                <p>$$-\frac{1}{7}x_3 - \frac{2}{7}x_5 + x_6 = -\frac{6}{7}$$</p>
                
                <p>将此式并入表5-3，然后用对偶单纯形法求解，继续迭代...（省略详细迭代过程）</p>
                
                <p>最终得到最优解为$x_1=1, x_2=2$，$\max z=1$。</p>
            </div>
        </section>
        
        <!-- 第三节 -->
        <section id="section3">
            <h2>第三节 分支定界法</h2>
            
            <p>分支定界法（branch and bound method）是一种隐枚举法（implicit enumeration）或部分枚举法，它不是一种有效算法，是枚举法基础上的改进。分支定界法的关键是<strong>分支</strong>和<strong>定界</strong>。</p>
            
            <button class="collapsible">分支定界法的基本思想</button>
            <div class="content">
                <h4>分支（Branching）：</h4>
                <p>若整数规划的松弛问题的最优解不符合整数要求，假设$x_j=\bar{b}_j$不符合整数要求，$[\bar{b}_j]$是不超过$\bar{b}_j$的最大整数，则构造两个约束条件：$x_j \leq [\bar{b}_j]$和$x_j \geq [\bar{b}_j]+1$。分别将其并入上述松弛问题中，从而形成两个分支，即两个后继问题。</p>
                
                <h4>定界（Bounding）：</h4>
                <p>所谓"定界"，是在分支过程中，若某个后继问题恰巧获得整数规划问题的一个可行解，那么，它的目标函数值就是一个"界限"，可作为衡量处理其他分支的一个依据。</p>
                
                <div class="highlight">
                    <p><strong>关键性质：</strong>整数规划问题的可行解集是它的松弛问题可行解集的一个子集，前者最优解的目标函数值不会优于后者最优解的目标函数值。所以，对于那些相应松弛问题最优解的目标函数值劣于上述"界限"值的后继问题，就可以剔除而不再考虑了。</p>
                </div>
            </div>
            
            <div class="example">
                <div class="example-title">例6 用分支定界法求解</div>
                <p>$$\max z = x_1 + x_2$$</p>
                <p>$$\text{s.t. } \begin{cases} x_1 + \frac{9}{14}x_2 \leq \frac{51}{14} \\ -2x_1 + x_2 \leq \frac{1}{3} \\ x_1, x_2 \geq 0 \\ x_1, x_2 \text{ 取整数} \end{cases}$$</p>
                
                <p><strong>解：</strong>记整数规划问题为(IP)，它的松弛问题为(LP)。用单纯形法解(LP)，最优解为$x_1=3/2, x_2=10/3$，即点$A$，$\max z=29/6$。</p>
                
                <p>(LP)的最优解不符合整数要求，可任选一个变量，如选择$x_1=3/2$进行分支。由于最接近3/2的整数是1和2，因而可以构造两个约束条件：</p>
                <ul style="padding-left: 2rem; margin: 1rem 0;">
                    <li>$x_1 \geq 2$ （形成后继问题LP₁）</li>
                    <li>$x_1 \leq 1$ （形成后继问题LP₂）</li>
                </ul>
                
                <p>解(LP₁)，最优解为$x_1=2, x_2=23/9$，即点$B$，$\max z=41/9$。点$B$仍不符合整数要求，再解(LP₂)。(LP₂)最优解为$x_1=1, x_2=7/3$，即点$C$，$\max z=10/3$。点$C$也不符合整数要求。因此，必须继续分支。</p>
                
                <p>由于$41/9 > 10/3$，所以优先选择$S_1$分支...（继续分支过程）</p>
                
                <p>最终得到整数规划(IP)的两个最优解：$x_1=3, x_2=1$和$x_1=2, x_2=2$，$\max z=4$。</p>
            </div>
            
            <button class="collapsible">分支定界法的一般步骤</button>
            <div class="content">
                <div class="highlight">
                    <p><strong>步骤1：</strong>称整数规划问题为问题A，它的松弛问题为问题B，以$z_b$表示问题A的目标函数的初始界。对最大化问题A，$z_b$为下界；对最小化问题A，$z_b$为上界。解问题B。转步骤2；</p>
                    
                    <p><strong>步骤2：</strong>如问题B无可行解，则问题A也无可行解；如问题B的最优解符合问题A的整数要求，则它就是问题A的最优解。对于这两种情况，求解过程到此结束。如问题B的最优解存在，但不符合问题A的整数要求，则转步骤3；</p>
                    
                    <p><strong>步骤3：</strong>对问题B，任选一个不符合整数要求的变量进行分支。设选择$x_j=\bar{b}_j$，且设$[\bar{b}_j]$为不超过$\bar{b}_j$的最大整数。对问题B分别增加下面两个约束条件中的一个：$x_j \leq [\bar{b}_j]$和$x_j \geq [\bar{b}_j]+1$，从而形成两个后继问题。解这两个后继问题。转步骤4；</p>
                    
                    <p><strong>步骤4：</strong>考查所有后继问题...（完整步骤说明）</p>
                </div>
            </div>
        </section>
        
        <!-- 第四节 -->
        <section id="section4">
            <h2>第四节 0-1型整数规划</h2>
            
            <h3>一、0-1变量及其应用</h3>
            
            <p>若变量只能取值0或1，称其为<strong>0-1变量</strong>。0-1变量作为<strong>逻辑变量</strong>（logical variable），常被用来表示系统是否处于某个特定状态，或者决策时是否取某个特定方案。例如：</p>
            
            <p>$$x = \begin{cases} 1 & \text{当决策取方案}P\text{时} \\ 0 & \text{当决策不取方案}P\text{时（即取}\bar{P}\text{时）} \end{cases}$$</p>
            
            <div class="note">
                <p><strong>0-1变量的特殊性质：</strong>0-1变量是二进制变量（binary variable）。利用0-1变量是二进制变量的性质，可以用一组0-1变量来取代该变量。例如，变量$x$可取0与9之间的任意整数时，可令：</p>
                <p>$$x = 2^0x_0 + 2^1x_1 + 2^2x_2 + 2^3x_3 \leq 9$$</p>
                <p>其中，$x_0, x_1, x_2, x_3$皆为0-1变量。</p>
            </div>
            
            <div class="example">
                <div class="example-title">例7 含有相互排斥的约束条件的问题</div>
                <p>设工序B的每周工时约束条件为：</p>
                <p>$$0.3x_1 + 0.5x_2 \leq 150 \quad (5.13a)$$</p>
                
                <p>现在假设工序B还有一种新的加工方式，相应的每周工时约束变成：</p>
                <p>$$0.2x_1 + 0.4x_2 \leq 120 \quad (5.13b)$$</p>
                
                <p>如果工序B只能从两种加工方式中选择一种，那么，式(5.13a)和式(5.13b)就成为两个相互排斥的约束条件。为了统一在一个问题中，引入0-1变量：</p>
                
                <p>$$y_1 = \begin{cases} 0 & \text{若工序B采用原加工方式} \\ 1 & \text{若工序B不采用原加工方式} \end{cases}$$</p>
                
                <p>$$y_2 = \begin{cases} 0 & \text{若工序B采用新加工方式} \\ 1 & \text{若工序B不采用新加工方式} \end{cases}$$</p>
                
                <p>于是，相互排斥的约束条件(5.13a)和约束条件(5.13b)可用下列三个约束条件统一起来：</p>
                
                <p>$$\begin{cases} 0.3x_1 + 0.5x_2 \leq 150 + My_1 & (5.13c) \\ 0.2x_1 + 0.4x_2 \leq 120 + My_2 & (5.13d) \\ y_1 + y_2 = 1 & (5.13e) \end{cases}$$</p>
                
                <p>其中$M$是充分大的数。由于式(5.13e)，$y_1$和$y_2$中必定有一个是1，另一个是0。若$y_1=1$，而$y_2=0$，即采用新加工方式，此时式(5.13d)就是式(5.13b)，而式(5.13c)自然成立，因而是多余的；反之，若$y_1=0$，$y_2=1$，即采用原加工方式，此时式(5.13c)就是式(5.13a)，而式(5.13d)自然成立，因而是多余的。</p>
            </div>
            
            <div class="example">
                <div class="example-title">例8 固定费用问题</div>
                <p>有三种资源被用于生产三种产品，资源量、产品单件可变费用及售价、资源单耗量及组织三种产品生产的固定费用见表5-6。要求制订一个生产计划，使总收益最大。</p>
                
                <table>
                    <caption><strong>表 5-6</strong></caption>
                    <thead>
                        <tr>
                            <th>产品</th>
                            <th colspan="3">单耗量</th>
                            <th>资源量</th>
                        </tr>
                        <tr>
                            <th>资源</th>
                            <th>I</th>
                            <th>II</th>
                            <th>III</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>A</td>
                            <td>2</td>
                            <td>4</td>
                            <td>8</td>
                            <td>500</td>
                        </tr>
                        <tr>
                            <td>B</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>300</td>
                        </tr>
                        <tr>
                            <td>C</td>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>100</td>
                        </tr>
                        <tr>
                            <td>单件可变费用</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>固定费用</td>
                            <td>100</td>
                            <td>150</td>
                            <td>200</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>单件售价</td>
                            <td>8</td>
                            <td>10</td>
                            <td>12</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                
                <p><strong>解：</strong>总收益等于销售收入减去生产上述产品的固定费用和可变费用之和。建模碰到的困难主要是事先不能确切知道某种产品是否生产，因而不能确定相应的固定费用是否发生。下面借助0-1变量解决这个困难。</p>
                
                <p>设$x_j$是第$j$种产品的产量，$j=1,2,3$；再设：</p>
                
                <p>$$y_j = \begin{cases} 0 & \text{若生产第}j\text{种产品（即}x_j > 0\text{）} \\ 1 & \text{若不生产第}j\text{种产品（即}x_j = 0\text{）} \end{cases}$$</p>
                
                <p>则问题的整数规划模型是：</p>
                
                <p>$$\max z = (8-4)x_1 + (10-5)x_2 + (12-6)x_3 - 100y_1 - 150y_2 - 200y_3$$</p>
                
                <p>$$\text{s.t. } \begin{cases} 2x_1 + 4x_2 + 8x_3 \leq 500 \\ 2x_1 + 3x_2 + 4x_3 \leq 300 \\ x_1 + 2x_2 + 3x_3 \leq 100 \\ x_1 \leq M_1y_1 \\ x_2 \leq M_2y_2 \\ x_3 \leq M_3y_3 \\ x_j \geq 0 \text{ 且为整数}, (j=1,2,3) \\ y_j = 0 \text{ 或 } 1, (j=1,2,3) \end{cases}$$</p>
                
                <p>其中$M_j$为$x_j$的某个上界。例如，根据第3个约束条件，可取$M_1=100, M_2=50, M_3=34$。</p>
            </div>
            
            <h3>二、0-1型整数规划的解法</h3>
            
            <p>0-1型整数规划是一种特殊的整数规划，若含有$n$个变量，则可以产生$2^n$个可能的变量组合。当$n$较大时，采用完全枚举法解题几乎是不可能的。已有的求解0-1型整数规划的方法一般都属于<strong>隐枚举法</strong>。</p>
            
            <button class="collapsible">隐枚举法的基本思想</button>
            <div class="content">
                <p>在$2^n$个可能的变量组合中，往往只有一部分是可行解。只要发现某个变量组合不满足其中一个约束条件时，就不必再去检验其他约束条件是否可行。</p>
                
                <p>对于可行解，其目标函数值也有优劣之分。若已发现一个可行解，则根据它的目标函数值可以产生一个<strong>过滤条件</strong>（filtering constraint），即对于目标函数值比它差的变量组合就不必再去检验它的可行性。在以后的求解过程中，每当发现比原来更好的可行解，则以此替换原来的过滤条件。</p>
            </div>
            
            <div class="example">
                <div class="example-title">例10 求解0-1整数规划</div>
                <p>$$\max z = 3x_1 - 2x_2 + 5x_3$$</p>
                
                <p>$$\text{s.t. } \begin{cases} x_1 + 2x_2 - x_3 \leq 2 \\ -x_1 + 4x_2 + x_3 \leq 4 \\ x_1 + x_2 \leq 3 \\ 4x_2 + x_3 \leq 6 \\ x_1, x_2, x_3 = 0 \text{ 或 } 1 \end{cases}$$</p>
                
                <p><strong>解：</strong>求解过程可以列表表示（见表5-8）：</p>
                
                <table>
                    <caption><strong>表 5-8 隐枚举法求解过程</strong></caption>
                    <thead>
                        <tr>
                            <th>$(x_1,x_2,x_3)$</th>
                            <th>$z$ 值</th>
                            <th colspan="4">约束条件</th>
                            <th>过滤条件</th>
                        </tr>
                        <tr>
                            <th></th>
                            <th></th>
                            <th>a</th>
                            <th>b</th>
                            <th>c</th>
                            <th>d</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>(0,0,0)</td>
                            <td>0</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>$z\geq 0$</td>
                        </tr>
                        <tr>
                            <td>(0,0,1)</td>
                            <td>5</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>$z\geq 5$</td>
                        </tr>
                        <tr>
                            <td>(0,1,0)</td>
                            <td>-2</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>(0,1,1)</td>
                            <td>3</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>(1,0,0)</td>
                            <td>3</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>(1,0,1)</td>
                            <td>8</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>✓</td>
                            <td>$z\geq 8$</td>
                        </tr>
                        <tr>
                            <td>(1,1,0)</td>
                            <td>1</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>(1,1,1)</td>
                            <td>6</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                
                <p>所以，最优解$(x_1,x_2,x_3)^T = (1,0,1)^T$，$\max z = 8$。</p>
                
                <div class="note">
                    由于采用上述算法，实际只做了20次运算（而不是$2^3=8$次完全枚举）。
                </div>
            </div>
        </section>
        
        <!-- 第五节 -->
        <section id="section5">
            <h2>第五节 指派问题</h2>
            
            <h3>一、指派问题的标准形式及其数学模型</h3>
            
            <p>在现实生活中，有各种性质的<strong>指派问题</strong>（assignment problem）。例如，有若干项工作需要分配给若干人（或部门）来完成；有若干项合同需要选择若干个投标者来承包；有若干班级需要安排在各教室里上课等。诸如此类问题，它们的基本要求是在满足特定的指派要求条件下，使指派方案的总体效果最佳。</p>
            
            <div class="highlight">
                <p><strong>指派问题的标准形式：</strong></p>
                <p>有$n$个人和$n$件事，已知第$i$人做第$j$事的费用为$c_{ij}$ $(i,j=1,2,\cdots,n)$，要求确定人和事之间的一一对应的指派方案，使完成这$n$件事的总费用最少。</p>
            </div>
            
            <p>一般称矩阵$C=(c_{ij})$为指派问题的<strong>系数矩阵</strong>（coefficient matrix）。为了建立标准指派问题的数学模型，引入$n^2$个0-1变量：</p>
            
            <p>$$x_{ij} = \begin{cases} 1 & \text{若指派第}i\text{人做第}j\text{事} \\ 0 & \text{若不指派第}i\text{人做第}j\text{事} \end{cases}$$</p>
            
            <p>这样，问题的数学模型可写成：</p>
            
            <div class="equation">
                <div>$$\min z = \sum_{i=1}^{n}\sum_{j=1}^{n} c_{ij}x_{ij}$$</div>
                <span class="eq-number">(5.16a)</span>
            </div>
            
            <div class="equation">
                <div>$$\text{s.t. } \begin{cases} \sum_{i=1}^{n} x_{ij} = 1 & (j=1,2,\cdots,n) \\ \sum_{j=1}^{n} x_{ij} = 1 & (i=1,2,\cdots,n) \\ x_{ij} = 0 \text{ 或 } 1 & (i,j=1,2,\cdots,n) \end{cases}$$</div>
                <span class="eq-number">(5.16b-d)</span>
            </div>
            
            <p>模型中，约束条件(5.16b)表示每件事必有且只有一个人去做，约束条件(5.16c)表示每个人必做且只做一件事。</p>
            
            <h3>二、匈牙利解法</h3>
            
            <p>1955年，库恩（W.W. Kuhn）利用匈牙利数学家康尼格（D. König）的关于矩阵中独立零元素的定理，提出了解指派问题的一种算法，习惯上称之为<strong>匈牙利解法</strong>。</p>
            
            <div class="highlight">
                <p><strong>匈牙利解法的关键性质：</strong></p>
                <p>若从指派问题的系数矩阵$C=(c_{ij})_{n\times n}$的某行（或某列）各元素分别减去一个常数$k$，得到一个新的矩阵$C'=(c'_{ij})_{n\times n}$，则以$C'$和$C$为系数矩阵的两个指派问题有相同的最优解。</p>
            </div>
            
            <div class="example">
                <div class="example-title">例11 用匈牙利法求解指派问题</div>
                <p>某商业公司计划开办5家新商店，决定由5家建筑公司分别承建。已知建筑公司$A_i$ $(i=1,2,\cdots,5)$对新商店$B_j$ $(j=1,2,\cdots,5)$的建造费用的报价（万元）为$c_{ij}$ $(i,j=1,2,\cdots,5)$，见表5-10。如仅考虑节省费用，商业公司应当对5家建筑公司怎样分配建造任务，才能使总的建造费用最少？</p>
                
                <table>
                    <caption><strong>表 5-10 建造费用报价表</strong></caption>
                    <thead>
                        <tr>
                            <th>$A_i \backslash B_j$</th>
                            <th>$B_1$</th>
                            <th>$B_2$</th>
                            <th>$B_3$</th>
                            <th>$B_4$</th>
                            <th>$B_5$</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>$A_1$</td>
                            <td>4</td>
                            <td>8</td>
                            <td>7</td>
                            <td>15</td>
                            <td>12</td>
                        </tr>
                        <tr>
                            <td>$A_2$</td>
                            <td>7</td>
                            <td>9</td>
                            <td>17</td>
                            <td>14</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td>$A_3$</td>
                            <td>6</td>
                            <td>9</td>
                            <td>12</td>
                            <td>8</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>$A_4$</td>
                            <td>6</td>
                            <td>7</td>
                            <td>14</td>
                            <td>6</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td>$A_5$</td>
                            <td>6</td>
                            <td>9</td>
                            <td>12</td>
                            <td>10</td>
                            <td>6</td>
                        </tr>
                    </tbody>
                </table>
                
                <p><strong>匈牙利法求解步骤：</strong></p>
                
                <button class="btn" onclick="showStep(1)">步骤1：行列变换</button>
                <button class="btn" onclick="showStep(2)">步骤2：确定独立零元素</button>
                <button class="btn" onclick="showStep(3)">步骤3：继续变换</button>
                
                <div id="step1" style="display:none; margin-top:1rem;">
                    <p>先对各行元素分别减去本行中的最小元素，然后对各列也如此...</p>
                </div>
                
                <div id="step2" style="display:none; margin-top:1rem;">
                    <p>在变换后的系数矩阵中确定独立零元素...</p>
                </div>
                
                <div id="step3" style="display:none; margin-top:1rem;">
                    <p>若独立零元素少于$n$个，则继续变换矩阵...</p>
                </div>
                
                <div class="note">
                    <p><strong>最终结果：</strong>让$A_1$承建$B_3$，$A_2$承建$B_2$，$A_3$承建$B_5$，$A_4$承建$B_4$，$A_5$承建$B_1$。这样安排能使总的建造费用最少，为$7+9+6+6+6=34$（万元）。</p>
                </div>
            </div>
            
            <h3>三、非标准形式的指派问题</h3>
            
            <button class="collapsible">各种非标准形式的处理方法</button>
            <div class="content">
                <h4>1. 最大化指派问题</h4>
                <p>设最大化指派问题系数矩阵$C=(c_{ij})_{n\times n}$，其中最大元素为$m$。令矩阵$B=(b_{ij})_{n\times n}=(m-c_{ij})_{n\times n}$，则以$B$为系数矩阵的最小化指派问题和以$C$为系数矩阵的原最大化指派问题有相同最优解。</p>
                
                <h4>2. 人数和事数不等的指派问题</h4>
                <p>若人少事多，则添上一些虚拟的"人"。这些虚拟的"人"做各事的费用系数可取0，理解为这些费用实际上不会发生。若人多事少，则添上一些虚拟的"事"。这些虚拟的"事"被各人做的费用系数同样也取0。</p>
                
                <h4>3. 一个人可做几件事的指派问题</h4>
                <p>若某个人可做几件事，则可将该人化作相同的几个"人"来接受指派。这几个"人"做同一件事的费用系数当然都一样。</p>
                
                <h4>4. 某事一定不能由某人做的指派问题</h4>
                <p>若某事一定不能由某个人做，则可将相应的费用系数取作足够大的数$M$。</p>
            </div>
        </section>
        
        <!-- 习题部分 -->
        <section id="exercises">
            <h2>习 题</h2>
            
            <div class="example">
                <div class="example-title">5.1</div>
                <p>下列说法中正确的有：</p>
                <ol style="padding-left: 2rem;">
                    <li>用分枝定界法求解一个极大化的整数规划问题时，任何一个可行解的目标函数值是该问题目标函数值的下界；</li>
                    <li>用割平面法求解整数规划时，构造的割平面有可能切去一些不属于最优解的整数值；</li>
                    <li>指派问题可用求解运输问题的表上作业法求解，反过来运输问题经处理后也可用匈牙利解法求解；</li>
                    <li>一个整数规划问题如存在两个以上最优解，则一定有无穷多最优解。</li>
                </ol>
            </div>
            
            <div class="example">
                <div class="example-title">5.2</div>
                <p>篮球队需要选择5名队员组成出场阵容参加比赛。8名队员的身高及擅长位置见表5-11。出场阵容应满足以下条件：...</p>
                <p>问应当选择哪5名队员上场，才能使出场队员平均身高最高，试建立数学模型。</p>
            </div>
            
            <div class="example">
                <div class="example-title">5.4</div>
                <p>分别用割平面法和用分支定界法解下列整数规划：</p>
                <p>(1) $\max z = 2x_1 + x_2$</p>
                <p>$$\text{s.t. } \begin{cases} x_1 + x_2 \leq 5 \\ -x_1 + x_2 \leq 0 \\ 6x_1 + 2x_2 \leq 21 \\ x_1, x_2 \geq 0, \text{且为整数} \end{cases}$$</p>
            </div>
            
            <p style="text-align: center; margin-top: 3rem; color: #f27d00;">
                <strong>更多习题请参考教材原文...</strong>
            </p>
        </section>
    </div>
    
    <!-- 返回顶部按钮 -->
    <button id="backToTop" onclick="scrollToTop()">↑</button>
    
    <script>
        // 折叠内容功能
        var coll = document.getElementsByClassName("collapsible");
        for (var i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    content.classList.remove("show");
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    content.classList.add("show");
                }
            });
        }
        
        // 显示步骤功能
        function showStep(stepNum) {
            var steps = ['step1', 'step2', 'step3'];
            steps.forEach(function(step) {
                document.getElementById(step).style.display = 'none';
            });
            document.getElementById('step' + stepNum).style.display = 'block';
        }
        
        // 返回顶部按钮
        window.onscroll = function() {
            var backToTopBtn = document.getElementById("backToTop");
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                backToTopBtn.style.display = "block";
            } else {
                backToTopBtn.style.display = "none";
            }
        };
        
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // 平滑滚动到锚点
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                var target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>

<!--
使用说明：
1. 保存为 .html 文件：将此代码保存为 integer_programming_tutorial.html
2. 需要网络连接以加载 MathJax：确保有互联网连接以正确渲染数学公式
3. 在浏览器中打开和测试：使用现代浏览器（Chrome, Firefox, Safari, Edge）打开文件
4. 交互功能：点击折叠按钮可展开/收起内容，点击导航栏可快速跳转到各节
5. 数学公式：所有公式使用 LaTeX 格式，通过 MathJax 渲染

注意事项：
- 本HTML文件是完全自包含的（除了外部CDN资源）
- 所有数学公式严格遵循 LaTeX 语法规范
- 使用了指定的配色方案：#f27d00, #a6d6c9, #f7d117, #ffffff, #343434
- 响应式设计，适配桌面和移动设备
- 包含多种交互元素：折叠内容、按钮、导航栏、返回顶部等
-->